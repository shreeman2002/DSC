#include <stdio.h>
#include <stdlib.h>

// Definition of node
struct node {
    int data;
    struct node *next;
};

// Function to reverse linked list
struct node* reverseList(struct node *head) {
    struct node *prev = NULL;
    struct node *curr = head;
    struct node *next = NULL;

    while (curr != NULL) {
        next = curr->next;   // store next
        curr->next = prev;   // reverse link
        prev = curr;         // move prev
        curr = next;         // move curr
    }

    head = prev;
    return head;
}

// Function to display list
void display(struct node *head) {
    struct node *temp = head;
    while (temp != NULL) {
        printf("%d -> ", temp->data);
        temp = temp->next;
    }
    printf("NULL\n");
}

int main() {
    struct node *head = NULL;

    // Create list: 10 -> 20 -> 30
    head = (struct node *)malloc(sizeof(struct node));
    head->data = 10;
    head->next = (struct node *)malloc(sizeof(struct node));
    head->next->data = 20;
    head->next->next = (struct node *)malloc(sizeof(struct node));
    head->next->next->data = 30;
    head->next->next->next = NULL;

    printf("Original list:\n");
    display(head);

    head = reverseList(head);

    printf("Reversed list:\n");
    display(head);

    return 0;
}
